# Telegraf Agent
[agent]
  interval = "10s"
  flush_interval = "10s"

# Collect SCADA-LTS Data via MQTT
[[inputs.mqtt_consumer]]
  servers = ["tcp://192.168.39.20:1883"]  # SCADA MQTT Broker
  topics = ["scada-lts/#"]
  data_format = "json"

# Collect SCADA-LTS Data via HTTP API
[[inputs.http]]
  urls = ["http://192.168.30.13:8000/api/realtime"]
  method = "GET"
  data_format = "json"

# Store SCADA-LTS data in InfluxDB
[[outputs.influxdb]]
  urls = ["http://influxdb:8086"]
  database = "historian"
  retention_policy = "autogen"

# Collect BACnet Data
# [[inputs.modbus]]
#   name = "bacnet_server"
#   controller = "tcp://192.168.32.4:47808"
#   timeout = "5s"  # Set timeout to prevent connection failures
#   slave_id = 1  # Ensure this matches your BACnet device

#   holding_registers = [
#     { name = "temperature", address = [0], data_type = "INT16", byte_order = "AB" },
#     { name = "pressure", address = [1], data_type = "INT16", byte_order = "AB" }
#   ]