{"version":3,"file":"914.js","mappings":"sOAMA,MASA,EATiB,KACf,MAAMA,EAAYC,aAAaC,QAAQC,EAAAA,KAAsB,GACvDC,EAAsBH,aAAaC,QAAQG,EAAAA,IAC3CC,EAAUF,EAAsBG,KAAKC,MAAMJ,GAAuB,IACjEK,IAAQC,EAAAA,EAAAA,WAASC,EAAAA,EAAAA,IAAQL,EAASN,IAEzC,OAAO,kBAACY,EAAAA,CAASH,KAAMA,G,EAKlB,SAASG,GAAS,KAAEH,IACzB,MAAOI,EAAeC,GAAoBC,IAAAA,UAAe,GAUzD,OARAC,EAAAA,EAAAA,YAAU,KACHH,IACHC,GAAiB,IAEjBG,EAAAA,EAAAA,IAAqBC,EAAAA,GAAkBT,KAAMU,EAAAA,GAAoBV,KAAKW,sBACxE,GACC,CAACX,EAAMI,IAELA,EAKH,kBAACJ,EAAKY,UAAS,CAACC,MAAOb,IAJhB,IAMX,C","sources":["webpack://grafana-exploretraces-app/./pages/Home/HomePage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { newHome } from '../../utils/utils';\nimport { DATASOURCE_LS_KEY, HOMEPAGE_FILTERS_LS_KEY } from '../../utils/shared';\nimport { reportAppInteraction, USER_EVENTS_ACTIONS, USER_EVENTS_PAGES } from '../../utils/analytics';\nimport { Home } from './Home';\n\nconst HomePage = () => {\n  const initialDs = localStorage.getItem(DATASOURCE_LS_KEY) || '';\n  const localStorageFilters = localStorage.getItem(HOMEPAGE_FILTERS_LS_KEY);\n  const filters = localStorageFilters ? JSON.parse(localStorageFilters) : [];\n  const [home] = useState(newHome(filters, initialDs));\n\n  return <HomeView home={home} />;\n};\n\nexport default HomePage;\n\nexport function HomeView({ home }: { home: Home }) {\n  const [isInitialized, setIsInitialized] = React.useState(false);\n\n  useEffect(() => {\n    if (!isInitialized) {\n      setIsInitialized(true);\n\n      reportAppInteraction(USER_EVENTS_PAGES.home, USER_EVENTS_ACTIONS.home.homepage_initialized);\n    }\n  }, [home, isInitialized]);\n\n  if (!isInitialized) {\n    return null;\n  }\n\n  return (\n    <home.Component model={home} />\n  );\n}\n"],"names":["initialDs","localStorage","getItem","DATASOURCE_LS_KEY","localStorageFilters","HOMEPAGE_FILTERS_LS_KEY","filters","JSON","parse","home","useState","newHome","HomeView","isInitialized","setIsInitialized","React","useEffect","reportAppInteraction","USER_EVENTS_PAGES","USER_EVENTS_ACTIONS","homepage_initialized","Component","model"],"sourceRoot":""}